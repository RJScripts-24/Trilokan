# ============================================================================
# Requirements for identity-verifier service
# IMPORTANT: Set environment variable CMAKE_BUILD_PARALLEL_LEVEL=1 to reduce build memory
# ============================================================================

# Web Framework
Flask==3.1.2
Werkzeug==3.1.3

# Core Scientific Computing (use v1.x for smaller size and better compatibility)
numpy>=1.24.0,<2.0.0
scipy>=1.10.0,<1.12.0
pandas>=2.0.0,<2.2.0

# Computer Vision & Image Processing (headless version is smaller)
opencv-python-headless==4.8.1.78
Pillow>=10.0.0,<11.0.0

# PyTorch CPU-only (much smaller than GPU, and TensorFlow removed as it's not used)
--extra-index-url https://download.pytorch.org/whl/cpu
torch==2.1.0+cpu
torchvision==0.16.0+cpu
scikit-learn>=1.3.0,<1.4.0  # For ROC analysis, metrics, and fusion models

# Deep Learning - CNN Deepfake Detection (Phase 1 & 2)
timm>=0.9.0,<1.0.0  # PyTorch Image Models for Xception/EfficientNet architectures
captum>=0.6.0,<0.8.0  # Model interpretability, Grad-CAM, and explainability

# Face Recognition & dlib
# NOTE: dlib requires C++ compilation. Set CMAKE_BUILD_PARALLEL_LEVEL=1 in environment
dlib>=19.24.0
face_recognition>=1.3.0

# Audio Processing
librosa>=0.10.0,<0.11.0
soundfile>=0.12.0
webrtcvad>=2.0.10

# Visualization & Monitoring
matplotlib>=3.7.0,<3.9.0  # For ROC curves, calibration plots, and visualization
tqdm>=4.65.0,<5.0.0

# Document Processing
pytesseract>=0.3.10

# Utility Libraries
python-dotenv>=1.0.0
python-dateutil>=2.8.0
pytz>=2023.3

